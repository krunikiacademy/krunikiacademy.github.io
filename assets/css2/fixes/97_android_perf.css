/* assets/css2/fixes/97_android_perf.css
   Android-only perf fix (exclude iOS/iPadOS Safari)
   LOCKED VALUE: contain-intrinsic-size = 800px
*/
@media (hover: none) and (pointer: coarse) {
  @supports not (-webkit-touch-callout: none) {

    html { scroll-behavior: auto !important; }

    main, section, .panel, .productGrid, .cardGrid {
      content-visibility: auto;
      contain-intrinsic-size: 800px;
    }

    body { overscroll-behavior: none; }
  }
}

/* A) ลดงานวาดซ้ำตอนเลื่อน (no visual change) */
@media (hover: none) and (pointer: coarse) {
  @supports not (-webkit-touch-callout: none) {

    /* ลด repaint จาก layout สั่นเล็กๆ */
    body { -webkit-text-size-adjust: 100%; }

    /* ลดภาระการคำนวณ layout ของ section ยาว ๆ */
    main, section, .panel {
      contain: layout style paint;
    }
  }
}
